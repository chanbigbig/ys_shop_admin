import{E as e,a9 as a,a2 as r}from"./index-b2e89937.js";const t=new e([{key:"WECHAT",name:"微信支付",value:"wechat"},{key:"ALIPAY",name:"支付宝支付",value:"alipay"},{key:"BALANCE",name:"余额支付",value:"balance"}]),n=new e([{key:"APP",name:"APP端",value:"APP"},{key:"H5",name:"H5端",value:"H5"},{key:"MP_WEIXIN",name:"微信小程序端",value:"MP-WEIXIN"}]),o=e=>{const a={formHtml:"",...e};return r.set("tempUnifyData_"+a.orderKey,{method:t.ALIPAY.value,outTradeNo:a.out_trade_no},3600),new Promise(((e,r)=>{if(a.formHtml){const e=document.createElement("div");e.innerHTML=a.formHtml,document.body.appendChild(e),document.forms[0].submit()}}))},i=e=>new Promise(((a,r)=>{uni.requestPayment({provider:"alipay",orderInfo:e.orderInfo,success(r){const t={isRequireQuery:!0,outTradeNo:e.out_trade_no,method:"alipay"};a({res:r,option:t})},fail:e=>r(e)})})),s=e=>({[n.H5.value]:o,[n.APP.value]:i}[a](e)),u=()=>{const e={};return e.returnUrl=window.location.href,e},m=e=>{const a={timeStamp:"",nonceStr:"",package:"",signType:"",paySign:"",...e};return new Promise(((e,r)=>{uni.requestPayment({provider:"wxpay",timeStamp:a.timeStamp,nonceStr:a.nonceStr,package:a.package,signType:a.signType,paySign:a.paySign,success(r){const t={isRequireQuery:!0,outTradeNo:a.out_trade_no,method:"wechat"};e({res:r,option:t})},fail:e=>r(e)})}))},p=e=>{const a={orderKey:null,mweb_url:"",h5_url:"",...e};return r.set("tempUnifyData_"+a.orderKey,{method:t.WECHAT.value,outTradeNo:a.out_trade_no},3600),new Promise(((e,r)=>{const t=a.mweb_url||a.h5_url;t&&(window.location.href=t)}))},d=e=>new Promise(((a,r)=>{uni.requestPayment({provider:"wxpay",orderInfo:{partnerid:e.partnerid,appid:e.appid,package:"Sign=WXPay",noncestr:e.noncestr,sign:e.sign,prepayid:e.prepayid,timestamp:e.timestamp},success(r){a({res:r,option:{isRequireQuery:!0,outTradeNo:e.out_trade_no,method:"wechat"}})},fail:e=>r(e)})})),c=e=>({[n.H5.value]:p,[n.MP_WEIXIN.value]:m,[n.APP.value]:d}[a](e)),l=()=>({});export{t as P,l as a,c as b,u as e,s as p};
